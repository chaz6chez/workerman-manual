# Как настроить workerman для перезапуска текущего процесса после обработки определенного запроса
Чтобы сделать workerman более компактным, этот функционал не предоставляется напрямую, однако его можно реализовать с помощью нескольких строк кода.
```php
$worker->onMessage = function($connection, $data) {
    static $request_count;
    // Бизнес-логика обработки запроса
    if(++$request_count > 10000) {
        // После обработки 10000 запросов процесс завершается, и основной процесс автоматически запускает новый процесс
        Worker::stopAll();
    }
};
```

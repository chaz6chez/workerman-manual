# Требования к окружению

## Пользователи Windows
Начиная с версии 3.5.3, Workerman поддерживает как системы Linux, так и Windows.

1. Требуется PHP>=5.4, а также настроенные переменные среды PHP.
2. Версия Workerman для Windows не зависит от каких-либо расширений.
3. Инструкции по установке и ограничения использования [здесь](https://www.workerman.net/windows).
4. Из-за ограничений использования Workerman в Windows рекомендуется использовать систему Linux в рабочей среде, а Windows - только в качестве среды разработки.

``` ==== После этой строки информация предназначена только для пользователей Linux, пользователи Windows могут пропустить. ==== ```

## Пользователи Linux (включая Mac OS)
Пользователи Linux могут использовать только версию Workerman для Linux.

1. Установите PHP>=5.4 и расширения pcntl и posix.
2. Рекомендуется также установить расширение event, но оно не обязательно (обратите внимание, что расширение event требует PHP>=5.4).

### Скрипт проверки окружения в Linux
Пользователи Linux могут запустить следующий скрипт, чтобы проверить, удовлетворяют ли их локальные условия требованиям WorkerMan.

```curl -Ss https://www.workerman.net/check | php```

Если в скрипте все подтверждено как "ok", это значит, что требования для запуска WorkerMan выполняются.

(Примечание: скрипт не проверяет установку расширения event. Если количество одновременных подключений больше 1024, рекомендуется установить расширение event. См. следующий раздел для инструкции по установке.)

## Подробное описание

### О PHP-CLI

WorkerMan работает в режиме командной строки [PHP (PHP-CLI)](https://php.net/manual/zh/features.commandline.php). PHP-CLI отдельная исполняемая программа, независимая и не конфликтующая с PHP-FPM или модулем Apache MOD-PHP.

### О необходимых расширениях для WorkerMan

1. [Расширение pcntl](https://cn2.php.net/manual/zh/book.pcntl.php)

   Расширение pcntl является важным для управления процессами в среде Linux, и WorkerMan использует его функции, такие как [fork](https://cn2.php.net/manual/zh/function.pcntl-fork.php), управление [сигналами](https://cn2.php.net/manual/zh/function.pcntl-signal.php), [таймеры](https://cn2.php.net/manual/zh/function.pcntl-alarm.php), [отслеживание состояния процессов](https://cn2.php.net/manual/zh/function.pcntl-waitpid.php). Это расширение не поддерживается в системе Windows.

2. [Расширение posix](https://cn2.php.net/manual/zh/book.posix.php)

   Расширение posix позволяет PHP в среде Linux вызывать интерфейсы, предоставляемые [стандартом POSIX](https://baike.baidu.com/view/209573.htm). WorkerMan в основном использует этот интерфейс для реализации функций демонизации процессов и управления группами пользователей. Это расширение не поддерживается в системе Windows.

3. [Расширение Event](https://php.net/manual/zh/book.event.php) или [расширение libevent](https://cn2.php.net/manual/en/book.libevent.php)

   Расширение event позволяет PHP использовать продвинутые механизмы обработки событий, такие как [Epoll](https://baike.baidu.com/view/1385104.htm) и Kqueue. Это значительно повышает уровень использования ЦП WorkerMan в условиях высоконагруженных соединений. Важно для приложений с высоконагруженными долгосрочными соединениями. Расширение libevent (или event) не является обязательным, и если оно не установлено, то по умолчанию используется нативный механизм обработки событий PHP - Select.

## Как установить расширения

См. главу [Установка расширений](../appendices/install-extension.md)

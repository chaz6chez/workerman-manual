# connections
## Описание:
```php
array Worker::$connections
```

Формат:
```php
array(id=>connection, id=>connection, ...)
```

Этот атрибут содержит все объекты подключений клиентов **текущего процесса**, где id - это номер идентификации подключения, подробности см. в документации [свойства id класса TcpConnection](../tcp-connection/id.md).

```$connections``` очень полезен при широковещании или получении объекта подключения по его идентификационному номеру.

Если известен номер идентификации подключения ```$id```, можно легко получить соответствующий объект подключения через ```$worker->connections[$id]``` и, таким образом, управлять соответствующим сокетным подключением, например, отправлять данные через ```$worker->connections[$id]->send('...')```.

Обратите внимание: если подключение закрывается (событие onClose срабатывает), соответствующее ```connection``` будет удалено из массива ```$connections```.

Обратите внимание: разработчики не должны изменять этот атрибут, иначе может возникнуть непредсказуемая ситуация.


## Пример

```php
use Workerman\Worker;
use Workerman\Timer;
require_once __DIR__ . '/vendor/autoload.php';

$worker = new Worker('text://0.0.0.0:2020');
// Установка таймера при запуске процесса для отправки данных всем клиентским подключениям
$worker->onWorkerStart = function($worker)
{
    // Таймер, каждые 10 секунд
    Timer::add(10, function() use ($worker)
    {
        // Перебор всех клиентских подключений текущего процесса и отправка текущего времени сервера
        foreach($worker->connections as $connection)
        {
            $connection->send(time());
        }
    });
};
// Запуск воркера
Worker::runAll();
```
